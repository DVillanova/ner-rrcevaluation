# Visualization
A visualization for the samples results. (default,TL_iou,Segm,E2E,E2E_video) Each visualization requires diferent metrics or properties on the results file generated by the evaluation.

## Default Visualization (default)
This visualization shows the image(/s) for the current sample and lists all the properties present on the JSON file of the sample results.

## Custom Visualization 
You can implement a custom visualization for you results. When you select this visualization on the configuration, 2 files (visualization_custom.js and visualization_custom.css) will be copied to the 'visualization' mounted folder.
Edit this 2 files for your custom visualization. (On the visualization_custom.js you have some instructions)


## Text Line - Intersection Over Union (TL_iou)
This visualization shows:
-  2 blocks of the current image sample, the first one with the Ground Truth Polygons and the other with the detection ones.
-  Intersection Over Union Matrix, with intersection results between all GT vs. Det pairs.
-  Evaluation log

For this visualization, you have to include on JSON file of the sample results the variables:

| Parameter | Type | Description |
| --- | --- | --- |
| gtPolPoints | array | GT bounding boxes. Each Bounding box has an array of point \[x1,y1,x2,y2, .. , xn,yn\] |
| detPolPoints | array | Det bounding boxes. Each Bounding box has an array of point [x1,y1,x2,y2, .. , xn,yn] |
| gtDontCare  | array | Indexes of the GT bounding boxes defined as Don't care |
| detDontCare  | array | Indexes of the Detection labeled as Don't care |
| iouMatrix |  array |  Intersection values between GT an Detection BBs. \[GT index\]\[DET index\] = Intersection value (0 to 1) |
| evaluationLog  | String | Log of important parts of the evaluation process |


## End to End (E2E)
This visualization shows:
-  2 blocks of the current image sample, the first one with the Ground Truth Polygons and the other with the detection ones.
-  Intersection Over Union Matrix, with intersection results between all GT vs. Det pairs.
-  Evaluation log

For this visualization, you have to include on JSON file of the sample results the variables:

| Parameter | Type | Description |
| --- | --- | --- |
| gtPolPoints | array | GT bounding boxes. Each Bounding box has an array of point \[x1,y1,x2,y2, .. , xn,yn\] |
| detPolPoints | array | Det bounding boxes. Each Bounding box has an array of point [x1,y1,x2,y2, .. , xn,yn] |
| gtDontCare  | array | Indexes of the GT bounding boxes defined as Don't care |
| detDontCare  | array | Indexes of the Detection labeled as Don't care |
| pairs  | array | Array of relations between GT and Detection with the transcription result {"gt":GT index , "det":Det index, "correct": The detected transcription is correct (boolean) } |
| gtTrans | array | GT bounding boxes. Each Bounding box has an array of point \[x1,y1,x2,y2, .. , xn,yn\] |
| detTrans | array | GT bounding boxes. Each Bounding box has an array of point \[x1,y1,x2,y2, .. , xn,yn\] |
| iouMat |  array |  Intersection values between GT an Detection BBs. \[GT index\]\[DET index\] = Intersection value (0 to 1) |
| evaluationLog  | String | Log of important parts of the evaluation process |



## Segmentation (Segm)
This visualization shows:
-  2 blocks of the current image sample, the first for showing Ground Truth Info and the other for the Detection info.
-  Evaluation log

For this visualization, you have to include on JSON file of the sample results the variables:

| Parameter | Type | Description |
| --- | --- | --- |
| evaluationLog  | String | Log of important parts of the evaluation process |


The Ground Truth must include the files:
| gt_color_\[sampleNum\].png  | The image with the text pixels colored. Each color represents a text part  |
| gt_bw_\[sampleNum\].png  | The BW image with the text pixels in white |


The submited method ZIP file, must include the files:
| res_img_\[sampleNum\].png  | The image with the pixel colors detected  |

On the results ZIP file, you have to include extra items for each sample:
| Name | Description |
| --- | --- |
| px_img\[sampleNum\].png  | An image showing the results at pixel level |
| res_atoms_det_\[sampleNum\].png  | An image showing the text part results of the detection |
| res_atoms_gt_\[sampleNum\].png  | An image showing the text part results of the ground truth |




